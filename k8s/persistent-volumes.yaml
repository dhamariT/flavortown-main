---
# Persistent Volume Claim for PostgreSQL
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: postgres-pvc
  labels:
    app: buildboard
    tier: database
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 10Gi
  # storageClassName: standard  # Uncomment and set based on your cloud provider
  # Options: standard, gp2 (AWS), standard-rwo (GCP), managed-premium (Azure)

---
# Persistent Volume Claim for Rails app storage (Active Storage, etc.)
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: buildboard-storage-pvc
  labels:
    app: buildboard
    tier: web
spec:
  accessModes:
    - ReadWriteOnce  # Single pod access (standard for GKE)
  resources:
    requests:
      storage: 20Gi
  storageClassName: standard-rwo  # GKE standard storage class